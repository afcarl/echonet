machine:
  timezone:
    Europe/Warsaw
  python:
    version: 3.5.2

dependencies:
  pre:
    - pip install pytest pytest-xdist pytest-cov python-coveralls coverage==3.7.1
    - pip install pep8 pytest-pep8
    - pip install -r requirements.txt
    - wget https://github.com/karoldvl/ESC-50/archive/wav-files.zip && unzip -q wav-files.zip -d data/ && mv data/ESC-50-wav-files data/ESC-50 && rm -f wav-files.zip
    - mkdir data/.ESC-50.cache

test:
  override:
    - PYTHONPATH=$PWD:$PYTHONPATH py.test --pep8 -m pep8 -n0
    - PYTHONPATH=$PWD:$PYTHONPATH py.test tests/ --ignore=tests/integration_tests